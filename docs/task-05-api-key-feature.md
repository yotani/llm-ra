# 工作項目：API Key 設定功能

## 任務目標
在前端頁面實作 OpenAI API Key 的輸入、儲存與驗證功能。

## 規格
- **UI 元件**:
  - 一個文字輸入框，用於輸入 API Key。
  - 一個「儲存/連線」按鈕。
  - 一個狀態指示燈或文字，顯示「已連線」或「未連線」。
- **儲存機制**: 使用瀏覽器的 `localStorage` 來儲存 API Key，避免使用者每次重新整理頁面都需要重新輸入。
- **驗證**:
  - 前端進行基本格式檢查（例如，是否以 `sk-` 開頭）。
  - (可選) 點擊儲存後，可呼叫一個後端端點來驗證 Key 的有效性。

## 實作步驟
1.  **HTML 元件**:
    -   在 `index.html` 中加入 API Key 輸入框、儲存按鈕和狀態顯示的元素。
2.  **JavaScript 邏輯**:
    -   **載入**: 頁面載入時，檢查 `localStorage` 中是否已存在 API Key。如果存在，則填入輸入框並更新 UI 狀態為「已連線」。
    -   **儲存**: 為「儲存」按鈕綁定點擊事件。點擊後：
        -   讀取輸入框中的值。
        -   進行基本格式驗證。
        -   將 API Key 存入 `localStorage`。
        -   更新 UI 狀態為「已連線」。
    -   **傳遞**: 當使用者觸發分析功能時，從 `localStorage` 讀取 API Key 並傳送給後端。
3.  **後端接收**:
    -   修改後端分析相關的 API 端點，使其能夠接收前端傳來的 API Key。

## 驗收標準
-   使用者可以在輸入框中輸入 API Key。
-   點擊儲存後，API Key 被存入 `localStorage`。
-   重新整理頁面後，API Key 仍然存在於輸入框中。
-   UI 能正確顯示「已連線」或「未連線」的狀態。
-   觸發分析時，API Key 能成功傳遞至後端。
